# TytajExpress Feature Documentation

## 1. Overview
TytajExpress is a comprehensive digital lending platform designed to automate loan management, client tracking, and financial reporting. This document outlines the system's features and modules.

## 2. Modules

### 2.1 Customer Management (Client CRM)
A centralized database for all borrower information.
*   **Personal Information**: Captures Full Name, ID Number, DOB, Gender, and Marital Status.
*   **Contact Details**: Primary and Secondary Phone numbers, Email Address.
*   **Location Tracking**: Captures detailed residence info: Branch, Town, Estate, and House/Business Number.
*   **KYC Compliance**: Tracks Identity Document uploads and Next of Kin details.
*   **Grouping**: Organize clients into 'Customer Groups' (e.g., Salaried, Business) for reporting and targeted products.
*   **Financials**: Stores Bank Details and Preferred Payment Methods (M-Pesa/Bank).

### 2.2 Loan Management
The core engine for processing loan applications and lifecycles.
*   **Flexible Products**: Configure loan products with distinct:
    *   Interest Rates (Standard + Overdue Penalties).
    *   Frequencies (Daily, Weekly, Monthly).
    *   Fee Structures (Insurance, Processing, Valuation, Tracking, CRB).
    *   Cycle Limits (First-time borrower limits vs. repeat).
*   **Detailed Applications**:
    *   **Guarantors**: Capture multiple guarantors with occupation and residence details.
    *   **Collateral**: Register assets with serial numbers and estimated values.
    *   **Referees**: Track personal references.
    *   **Business Financial Analysis (BFA)**: Built-in credit scoring tool to calculate Net Income based on sales and expenses.
*   **Repayment Scheduling**: Automatically generates repayment schedules based on product frequency.
*   **Disbursement**: One-click integration for M-Pesa B2C disbursements or Bank transfer logging.

### 2.3 Financial System
*   **Expense Tracking**: Record operational expenses categorized by type (Rent, Salaries, etc.).
*   **M-Pesa Integration**:
    *   **C2B**: Automated logging of incoming repayments via Paybill.
    *   **B2C**: Automated payouts to clients.
    *   **Reconciliation**: Real-time balance checks and transaction status tracking.
*   **Reporting**:
    *   Income Reports (Interest, Fees).
    *   Portfolio Health (Active vs. Defaulted Loans).
    *   Registration & Processing Fee Reports.

### 2.4 User Management & Security
*   **Role-Based Access**: Granular permissions for Admins and Standard Users.
*   **Activity Logging**: Tracks who registered a client or approved a loan.
*   **Secure Authentication**: JWT-based login with hashed passwords.

## 3. Technology Stack
*   **Backend**: Python (FastAPI) - High performance, async-capable.
*   **Database**: MySQL - Robust relational data storage.
*   **Frontend**: React (Vite) + Tailwind CSS - Modern, responsive, and fast user interface.
*   **Infrastructure**: cPanel / Linux Hosting (Passenger).

## 4. Workflows

### Loan Application Workflow
1.  **Creation**: Loan Officer inputs client request + BFA data + Guarantors.
2.  **Appraisal**: System calculates "Available Income" and checks against Product Limits.
3.  **Approval**: Admin approves the loan.
4.  **Disbursement**: Funds sent via M-Pesa.
5.  **Repayment**: System listens for M-Pesa callbacks to update loan balance automatically.

---
*Documentation generated by TytajExpress Architecture Team.*
